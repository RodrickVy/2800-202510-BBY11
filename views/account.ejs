

<%- include('templates/header',{css:["css/index.css"]}) %>
<br><br><br>
<div class="container-fluid">

    <div class="d-flex flex-wrap align-items-center justify-content-between">
      <!-- Profile Card -->
      <div class="col-12 col-md-4 mb-3">
        <div class="card">
          <div class="card-body text-center">
            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle mb-3" width="150">
            <h4>John Doe</h4>
            <p class="text-secondary mb-1">Full Stack Developer</p>
            <p class="text-muted font-size-sm" id="city-display">Your city will display here</p>
            <p class="text-muted font-size-sm">bio</p>
            <button class="btn btn-primary" style="background-color:#013C70" id="meet-btn">Edit/Meet</button>
          </div>
        </div>
      </div>

      <!-- Education Details -->
      <div class="col-12 col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <div class="row mb-2">
              <div class="col-sm-4"><strong>Institution:</strong></div>
              <div class="col-sm-8 text-secondary">BCIT</div>
            </div>
            <div class="row mb-2">
              <div class="col-sm-4"><strong>Program:</strong></div>
              <div class="col-sm-8 text-secondary">CST</div>
            </div>
            <div class="row mb-2">
              <div class="col-sm-4"><strong>End Year:</strong></div>
              <div class="col-sm-8 text-secondary">2026</div>
            </div>
            <div class="row mb-2">
              <div class="col-sm-4"><strong>Credentials:</strong></div>
              <div class="col-sm-8 text-secondary">N/A</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Social Media -->
      <div class="col-12 col-md-4">
        <div class="card h-100">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
              <h6 class="mb-0"><i class="feather feather-globe mr-2"></i>Website</h6>
              <span class="text-secondary">https://bootdey.com</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
              <h6 class="mb-0"><i class="feather feather-github mr-2"></i>Github</h6>
              <span class="text-secondary">bootdey</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
              <h6 class="mb-0 text-info"><i class="feather feather-twitter mr-2"></i>Twitter</h6>
              <span class="text-secondary">@bootdey</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
              <h6 class="mb-0 text-danger"><i class="feather feather-instagram mr-2"></i>Instagram</h6>
              <span class="text-secondary">bootdey</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
              <h6 class="mb-0 text-primary"><i class="feather feather-facebook mr-2"></i>Facebook</h6>
              <span class="text-secondary">bootdey</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

  <%- include('templates/footer', {currentPage:'account'}) %>

</div>


<script>
  function getUserLocation() {
    console.log("Getting user location...");

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const { latitude, longitude } = position.coords;

          fetch(
            `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`
          )
            .then((response) => response.json())
            .then((data) => {
              const city =
                data.address.city ||
                data.address.town ||
                data.address.village ||
                data.address.county ||
                "Unknown";

              // Display the city in the HTML element
              document.getElementById("city-display").textContent = `${city}`;
            })
            .catch((error) => {
              console.error("Error during reverse geocoding:", error);
              document.getElementById("city-display").textContent =
                "Could not determine city.";
            });
        },
        (error) => {
          console.error("Error getting location:", error.message);
          document.getElementById("city-display").textContent =
            "Location access denied.";
        }
      );
    } else {
      console.error("Geolocation is not supported by this browser.");
      document.getElementById("city-display").textContent =
        "Geolocation not supported.";
    }
  }
  console.log("file being called");

  getUserLocation();
</script>
