<%- include('templates/header', {
  css: [
    "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",
    "css/notifications.css"
  ]
}) %>

<div class="container py-5">
  <h2 class="mb-4">Your Notifications</h2>

  <% if (notifications.length === 0) { %>
    <div class="alert alert-info">You have no notifications.</div>
  <% } else { %>
    <div class="list-group">
      <% notifications.forEach(notification => { %>
        <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center <%= notification.read ? '' : 'unread' %>">
          <div>
            <h6 class="mb-1"><%= notification.title %></h6>
            <p class="mb-0 text-muted"><%= notification.message %></p>
            <small class="text-secondary"><i class="far fa-clock"></i> <%= notification.date %></small>
          </div>
          <% if (!notification.read) { %>
            <span class="badge bg-primary">New</span>
          <% } %>
        </div>
      <% }); %>
    </div>
    <div class="mt-4 text-end">
      <form method="POST" action="/notifications/mark-all-read">
        <button class="btn btn-sm btn-outline-secondary" type="submit">
          <i class="fas fa-check-circle me-1"></i> Mark All as Read
        </button>
      </form>
    </div>
  <% } %>
</div>

<%- include('templates/footer', { currentPage: "notifications" }) %>